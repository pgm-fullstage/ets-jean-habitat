---
const siteData = Astro.props.siteData || (typeof window !== 'undefined' ? window.siteData : null);

if (!siteData) {
  throw new Error('siteData is required for BannerOne component');
}

const { business, cities } = siteData;

// Safe access to cities data with fallbacks
const availableCities = cities?.available ? Object.values(cities.available) : [];
const randomCities = availableCities.length > 0 ? availableCities.sort(() => 0.5 - Math.random()).slice(0, 3) : [];
const phone = business?.contact?.phone_formatted || business?.contact?.phone;
---

<div class="relative flex items-center justify-center gap-x-6 bg-primary px-6 py-1 rounded-b-2xl mx-6">
  <div class="flex flex-wrap items-center justify-center gap-x-6 gap-y-2 text-center">
    <div class="flex items-center gap-x-2">
      <span class="text-xs md:text-sm font-medium text-white">
         {business.experience_years} d'exp√©rience
      </span>
    </div>
    <div class="w-px h-4 bg-white/30"></div>
    <div class="flex items-center gap-x-2">
      <span class="text-xs  md:text-sm font-medium text-white">
        {business.warranty}
      </span>
    </div>
    
  </div>
</div>
